<!DOCTYPE html>
<html>
<script>

  window.onload = function () {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    var operation = urlParams.get('choice1');
    document.getElementById("Operaton").innerHTML = operation;


    if( urlParams.get('choice2') == "Random"){
       document.getElementById("createForm")[0].value;
      // document.getElementById("createForm").submit(); //form submission


      console.log("here");
      // window.location = "/Users/chloe/Desktop/COSC 425/local chloe/workSpace.html";
    }
  }

  function dataValidation(e) {
    // alert("here1");
    var MAX_NUM = 6;
    // var pwd = "/Users/chloe/Desktop/COSC 425/local chloe/";


    var leftN = document.getElementById("leftNumerator").value;
    var leftD = document.getElementById("leftDenominator").value;
    var rightN = document.getElementById("rightNumerator").value;
    var rightD = document.getElementById("rightDenominator").value;

    var leftN = parseInt(leftN);
    var leftD = parseInt(leftD);
    var rightN = parseInt(rightN);
    var rightD = parseInt(rightD);

    if (leftN / leftD == 1) {
      alert("The left fraction equals 1. Please enter in a fraction that does not equal 1. ");
      e.preventDefault();// stop 

    }
    if (rightN / rightD == 1) {
      e.preventDefault();// stop 
      alert("The right fraction equals 1. Please enter in a fraction that does not equal 1. ");

    }

    // error checks if num 1-6 denom 2-6 
    // TODO this needs to be double checked
    if (
      (leftN <= 0 || leftN > MAX_NUM) ||
      (leftD <= 1 || leftD > MAX_NUM) ||
      (rightN <= 0 || rightN > MAX_NUM) ||
      (rightD <= 1 || rightD > MAX_NUM)
    ) {
      if(rightD ==1 ||leftD ==1){
        alert("Denominator cannot be 1.");
      }else{
        alert("Error enter a number from 1-6");

      }
      e.preventDefault();// stop 


      // takes user to workSpace and populates with their input
    }

    if (
      (leftN > 0 && leftN <= MAX_NUM) &&
      (leftD > 1 && leftD <= MAX_NUM) &&
      (rightN > 0 && rightN <= MAX_NUM) &&
      (rightD > 1 && rightD <= MAX_NUM)) {

      document.getElementById("createForm").submit(); //form submission

    }
  }
</script>

<head>
  <title>Fraction Visualizer</title>
</head>
<h1> <span id="Operaton"></span></h1>

<body>
  <form method="get" id="createForm" action="workspace.html">

    <div>
      <input type="text" id="leftNumerator" name="leftNum" /><br />
      <input type="text" id="leftDenominator" name="rightDenom" /><br />
    </div>

    <br><br>
    <div>
      <input type="text" id="rightNumerator" name="rightNum" /><br />
      <input type="text" id="rightDenominator" name="leftdenom" /><br />
    </div>

    <div>
      <button type="submit" onclick="dataValidation(event)">Start</button>
    </div>

  </form>



</body>

</html>